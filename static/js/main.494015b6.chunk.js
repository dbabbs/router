(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),s=n.n(o),c=(n(16),n(1)),i=n.n(c),u=n(2),p=n(5),d=n(6),l=n(8),h=n(7),f=n(9),m=(n(18),"UQ75LhFcnAv0DtOUwBEA"),w="f5nyezNmYF4wvuJqQgNSkg",b=function(e){return"https://geocoder.api.here.com/6.2/geocode.json?app_id=".concat(m,"&app_code=").concat(w,"&searchtext=").concat(e)},g=function(e,t,n){return"https://route.api.here.com/routing/7.2/calculateroute.json?app_id=".concat(m,"&app_code=").concat(w,"&waypoint0=geo!").concat(e,"&waypoint1=geo!").concat(t,"&mode=fastest;").concat(n,";traffic:disabled&routeattributes=shape")},v=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).newRow=function(){var e=Object.assign(n.state.table,{});e.push({start:"",end:"",provider:"",mode:"pedestrian",shape:[]}),n.setState({table:e})},n.editRow=function(e,t,a){var r=Object.assign(n.state.table,{});r[a][t]=e,n.setState({table:r})},n.go=Object(u.a)(i.a.mark(function e(){var t,a,r,o,s,c,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("click"),t=n.state.table.map(function(){var e=Object(u.a)(i.a.mark(function e(t,n){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b(t.start)).then(function(e){return e.json()});case 2:return a=e.sent,e.next=5,fetch(b(t.end)).then(function(e){return e.json()});case 5:return r=e.sent,t.startCoordinates=a.Response.View[0].Result[0].Location.NavigationPosition[0],t.endCoordinates=r.Response.View[0].Result[0].Location.NavigationPosition[0],e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),e.next=4,Promise.all(t);case 4:return a=e.sent,r=a.map(function(){var e=Object(u.a)(i.a.mark(function e(t,n){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g(t.startCoordinates.Latitude+","+t.startCoordinates.Longitude,t.endCoordinates.Latitude+","+t.endCoordinates.Longitude,t.mode)).then(function(e){return e.json()}).then(function(e){return console.log(e.response.route[0].shape.length),e.response.route[0].shape.map(function(e){var t=e.split(",");return[Number(t[1]),Number(t[0])]})});case 2:return a=e.sent,t.shape=a,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),e.next=8,Promise.all(r);case 8:o=e.sent,console.log(o),s={type:"FeatureCollection",features:o.map(function(e){return{geometry:{type:"LineString",coordinates:e.shape},type:"Feature",properties:{provider:e.provider,startAddress:e.start,endAddress:e.end,mode:e.mode}}})},c=document.createElement("a"),p=new Blob([JSON.stringify(s)],{type:"text/plain"}),c.href=URL.createObjectURL(p),c.download="routes.geojson",document.body.appendChild(c),c.click();case 17:case"end":return e.stop()}},e)})),n.state={table:[{start:"701 Pike St. Seattle",end:"954 E Union St. Seattle",provider:"uber",mode:"pedestrian",shape:[]}]},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t={gridTemplateColumns:"repeat(".concat(Object.keys(this.state.table[0]).length,", 1fr)")};return r.a.createElement("div",{className:"app"},r.a.createElement("button",{onClick:this.newRow},"New row"),r.a.createElement("button",{onClick:this.go},"Route"),this.state.table.map(function(n,a){return r.a.createElement("div",{className:"row",key:a,style:t},Object.keys(n).map(function(t,o){return r.a.createElement("input",{key:o,type:"text",value:n[t],onChange:function(n){return e.editRow(n.target.value,t,a)}})}))}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.494015b6.chunk.js.map